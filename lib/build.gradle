/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.2/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
//    id 'jacoco'
//    id 'pmd'
//    id 'com.github.spotbugs' version '5.0.5'
//    id 'org.jbake.site t'
//    id 'edu.odu.cs.report_accumulator' version '1.4'
//    id 'org.hidetake.ssh' version '2.10.1'

      id 'java'
     // id 'pmd' // and/or checkstyle, jacoco, spotbugs
      id 'edu.odu.cs.report_accumulator' version '1.4' 
      
      id 'groovy'
      id 'java-gradle-plugin'
      id 'ivy-publish'
    
      id 'com.github.spotbugs'  version '4.7.10'
    //  id 'checkstyle'
      id 'project-report'

}

java {
    sourceCompatibility = JavaVersion.toVersion(11)
    targetCompatibility = JavaVersion.toVersion(11)
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()

    ivy {
        url 'https://www.cs.odu.edu/~zeil/ivyrepo'
    }
}

dependencies {
    // Use JUnit Jupiter for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'
    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.8.2'

    // Mock objects
    testImplementation 'org.jmockit:jmockit:1.49'

    // Add hamcrest matchers
    testImplementation 'org.hamcrest:hamcrest:2.2'

    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:30.1.1-jre'

    // Filename utilities
    implementation 'commons-io:commons-io:2.11.0'

    // Special purpose libraries, some not yet needed
//    implementation 'edu.odu.cs.zeil:JarNeedsHeap:1.0'
//    implementation 'edu.odu.cs.extract:extract-wordlists:4.2'
    implementation 'nz.ac.waikato.cms.weka:weka-stable:3.8.6'
}

tasks.named('jar') {
    archiveBaseName = 'Personal-Name-Extractor'

    manifest {
        attributes(
                'Implementation-Name': project.name,
                'Implementation-Version': project.version,
                'Main-Class': 'edu.odu.cs.cs350.namex.ExtractionDriver',
        )
    }
}

tasks.named('test') {
    // Use JUnit Platform for unit tests.
    ignoreFailures = true
    useJUnitPlatform()
}

tasks.register('train') {
    // train Archivist class
    dependsOn 'test'
    println "Training not yet implemented..."
}

//tasks.register('reports') {

//}

tasks.register('publish') {

}

tasks.register('systest') {

}

task copyWebPages (type: Copy) {
    from 'report-accumulator'
    into 'build/reports'
}

reportStats {
    reportsURL = 'https://dankoo97.github.io/Personal-Name-Extractor/reports/tests/test/'
    htmlSourceDir = file('report-accumulator')  
    reportsDir = file('build/reports') // default value
}


